{% extends 'base.html.twig' %}

{% block title "Panier" %}

{% block body %}
    <div class="main-div">
        <div class="card col-md-12">
            <div class="card-header">
                <h1><i class="fas fa-shopping-cart"></i> Panier</h1>
            </div>
            <div class="card-body">
                <div class="row">
                    <table class="table table-striped table-sm table-hover">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Produit</th>
                                <th class="text-right">Prix</th>
                                <th>Quantit√©</th>
                                <th class="text-right">Total</th>
                                <th>Supprimer</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for elem in panier %}
                            <tr>
                                <td>
                                    <img src="/{{ elem.produit.visuel }}" class="cart-img-produit" alt="{{ elem.produit.libelle }}">
                                </td>
                                <td> 
                                    <a href="{{ path('rayon', {idCategory : elem.produit.category.id}) }}">
                                        <b>{{ elem.produit.libelle }}</b>
                                    </a>
                                </td>
                                <td class="text-right">
                                    {{ elem.produit.prix }}
                                </td>
                                <td>
                                    <a href="{{ path('panier_enlever', {idProduit : elem.produit.id}) }}">
                                        <i class="fas fa-minus-square text-muted"></i>
                                    </a>
                                    {{ elem.quantite }}
                                    <a href="{{ path('panier_ajouter', {idProduit : elem.produit.id}) }}">
                                        <i class="fas fa-plus-square text-muted"></i>
                                    </a>
                                </td>
                                <td class="text-right">
                                    {{ elem.produit.prix * elem.quantite }}
                                </td>
                                <td>
                                    <a href="{{ path('panier_supprimer', {idProduit : elem.produit.id}) }}">
                                        <i class="fas fa-trash text-muted"></i>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                        <thead>
                            <tr>
                                <th class="text-right" colspan="4">
                                    Total                                
                                </th>
                                <th class="text-right">
                                    {{ total }}
                                </th>
                                <th>
                                    <a href="{{ path('panier_vider') }}">
                                        <i class="fas fa-trash text-muted"></i>
                                    </a>
                                </th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

            